(this["webpackJsonpmandal-art"]=this["webpackJsonpmandal-art"]||[]).push([[0],{64:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n(0),c=n.n(a),o=n(12),i=n.n(o),u=(n(64),n(18)),s=n(8),d=n(7),l=n(5),b=n.n(l),f=n(10),j=n(16),p=n(17),h=n(6),O=n(28);n(66);O.a.configure();var v={position:"top-center",autoClose:3e3,closeOnClick:!0,pauseOnHover:!0},m=function(e){O.a.error(e,Object(h.a)({},v))},x=n(102),g=function(e,t,n){return[].concat(Object(p.a)(e.slice(0,t)),[n],Object(p.a)(e.slice(t)))},w=function(){return Object(x.a)()},k=Object({NODE_ENV:"production",PUBLIC_URL:"/mandal-art",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TRELLO_API_KEY:"e6f32668896a013c62bb958df65d0d59",REACT_APP_TRELLO_LIST_ID:"5fef20e8bd17c42cb4b89611",REACT_APP_TRELLO_MANDAL_ART_ID:"5fef20e0febcbe541f6444dd",REACT_APP_TRELLO_TOKEN:"1994f828faaa68ad960cf6b50933bfc02a2201de3d1d06f6fde31248dbc78535"}),T=k.REACT_APP_TRELLO_MANDAL_ART_ID,_=(k.REACT_APP_TRELLO_LIST_ID,k.REACT_APP_TRELLO_CARD_ID,k.REACT_APP_TRELLO_API_KEY),y="cards",E="lists",A=n(48),B=n(49),L=new(function(){function e(t,n){Object(A.a)(this,e),this.key=t,this.token=n}return Object(B.a)(e,[{key:"auth",value:function(e){var t=this,n=(e.name||"My App").replace(/ /g,"+"),r=e.expiration||"1hour",a=e.scope||{read:!0,write:!0,account:!1};return new Promise((function(e,c){var o=window.location,i=o.protocol,u=o.host,s=o.pathname,d=o.search,l=window.open("https://trello.com/1/authorize?response_type=token&key=".concat(t.key,"&return_url=").concat(i,"//").concat(u).concat(s).concat(d,"&callback_method=postMessage&scope=").concat(Object.keys(a).filter((function(e){return a[e]})).join(","),"&expiration=").concat(r,"&name=").concat(n),"trello","height=606,width=405,left=".concat(window.screenX+(window.innerWidth-420)/2,",right=").concat(window.screenY+(window.innerHeight-470)/2)),b=setTimeout((function(){l.close(),c(new Error("Trello pop-up closed."))}),6e4),f=setInterval((function(){l.closed&&(clearInterval(f),c(new Error("Trello pop-up closed.")))}),500);window.addEventListener("message",(function(n){"string"===typeof n.data&&(clearTimeout(b),l.close(),t.token=n.data,localStorage.setItem("trello_token",n.data),e())}))}))}},{key:"req",value:function(e,t,n){(n=n||{}).key=this.key,n.token=this.token;var r=new URLSearchParams;for(var a in n)r.append(a,n[a]);var c={method:e},o="https://api.trello.com".concat(t);return"POST"===e||"PUT"===e?(c.body=r.toString(),c.headers={"Content-type":"application/x-www-form-urlencoded"}):o+="?".concat(r.toString()),fetch(o,c).then((function(e){return e.json()}))}},{key:"get",value:function(e,t){return this.req("GET",e,t)}},{key:"head",value:function(e,t){return this.req("HEAD",e,t)}},{key:"post",value:function(e,t){return this.req("POST",e,t)}},{key:"put",value:function(e,t){return this.req("PUT",e,t)}},{key:"delete",value:function(e,t){return this.req("DELETE",e,t)}}]),e}())(_),C=function(e){return Promise.resolve().then((function(){return localStorage.getItem("trello_token")})).then((function(e){if(!e)return L.auth({name:"Mandal-art App",scope:{read:!0,write:!0,account:!0},expiration:"never"});L.token=e,L.key=_})).then((function(){return e()})).catch((function(){}))},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return L.get("/1/".concat(e),t)},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return L.post("/1/".concat(e),t)},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return L.put("/1/".concat(e),t)},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"open";return P("boards/".concat(e,"/lists/").concat(t))},M=function(e){return P("boards/".concat(e,"/labels"),{limit:100})},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"visible";return P("boards/".concat(e,"/cards/").concat(t))},z=function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={idList:n,name:t,pos:"bottom"},e.abrupt("return",S("cards",r));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=t.id,r=t.name,a={name:r},e.abrupt("return",I("".concat(y,"/").concat(n),a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={idBoard:n,name:t,pos:"bottom"},e.abrupt("return",S("lists",r));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=Object(f.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=t.id,e.abrupt("return",I("".concat(E,"/").concat(n),Object(h.a)({},t)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Array.from({length:8-e},(function(){return Object(h.a)(Object(h.a)({},n),{},{id:"".concat(w()),name:"",trelloType:t})}))},W=function(e,t,n){var r=g([].concat(Object(p.a)(t),Object(p.a)(K(t.length,"list",{idBoard:e.id}))),4,{id:e.id,name:e.name,trelloType:"board",isCenter:!0});return r.map((function(t,a){if(4===a)return r.map((function(e,t){return{id:e.id,name:e.name,idBoard:e.idBoard,trelloType:4===t?"board":"list",isCenter:4===t}}));var c=function(e,t){return e.filter((function(e){return e.idList===t}))}(n,t.id).map((function(e){return{id:e.id,name:e.name,idBoard:e.idBoard,idList:e.idList,trelloType:"card"}}));return g([].concat(Object(p.a)(c),Object(p.a)(K(c.length,"card",{idBoard:e.id,idList:t.id}))),4,{id:t.id,name:t.name,idBoard:t.idBoard,trelloType:"list",isCenter:!0})}))},U=Object(a.createContext)(),F=U.Provider,J=U.Consumer,Y={board:{},lists:[],cards:[],labels:[],isAuthorized:!0,isLoaded:!1},G=function(e){var t=e.children,n=Object(a.useState)(),c=Object(j.a)(n,2),o=c[0],i=c[1],u=Object(a.useState)([[]]),s=Object(j.a)(u,2),d=s[0],l=s[1],p=Object(a.useState)(Object(h.a)({},Y)),O=Object(j.a)(p,2),v=O[0],x=O[1];return Object(a.useEffect)((function(){Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,C().then(Object(f.a)(b.a.mark((function e(){var t,n,r,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("boards/".concat(o));case 3:return t=e.sent,e.next=6,R(o);case 6:return n=e.sent,e.next=9,D(o);case 9:return r=e.sent,e.next=12,M(o);case 12:a=e.sent,c=W(t,n,r),l(c),x((function(e){return Object(h.a)(Object(h.a)({},e),{},{board:t,lists:n,cards:r,labels:a,isLoaded:!0})})),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),x(Object(h.a)(Object(h.a)({},Y),{},{isAuthorized:!1})),m("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc811\uadfc\uc785\ub2c8\ub2e4.");case 22:case"end":return e.stop()}}),e,null,[[0,18]])}))));case 4:case"end":return e.stop()}}),e)})))()}),[o]),Object(r.jsx)(F,{value:{state:{boards:d,trelloObjects:v},actions:{setBoards:l,setTrelloBoardId:i,setTrelloObjects:x}},children:t})},V=U,X=Object(a.createContext)(),$=X.Provider,Q=(X.Consumer,{boards:[],me:{}}),Z=function(e){var t=e.children,n=Object(a.useState)(Object(h.a)({},Q)),c=Object(j.a)(n,2),o=c[0],i=c[1],u=function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null===o||void 0===o?void 0:o.me,"{}"===JSON.stringify(t)||0===Object.keys(t).length){e.next=2;break}return e.abrupt("return",o);case 2:return e.abrupt("return",C().then(Object(f.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("members/me");case 3:return t=e.sent,e.next=6,P("members/me/boards");case 6:return n=e.sent,i((function(e){return Object(h.a)(Object(h.a)({},e),{},{me:t,boards:n})})),e.abrupt("return",o);case 11:e.prev=11,e.t0=e.catch(0),i(Object(h.a)({},Q)),m("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc811\uadfc\uc785\ub2c8\ub2e4.");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))));case 3:case"end":return e.stop()}var t}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)($,{value:{actions:{getMyInfo:u}},children:t})},ee=X,te=n(34),ne=n(35),re=n.n(ne);re()(navigator.userAgent);function ae(){return"mobile"===re()(navigator.userAgent).device.type}var ce=function(){var e=ae();return Object(r.jsxs)(r.Fragment,{children:[!e&&Object(r.jsx)(te.a,{children:Object(r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"})}),e&&Object(r.jsx)(te.a,{children:Object(r.jsx)("meta",{name:"viewport",content:"width=1280, initial-scale=1, maximum-scale=1.0, user-scalable=yes"})})]})},oe={path:"/home",url:"/home",description:"Home Page"},ie={path:"/board/:boardId",url:"/board/",description:"Board Page"},ue=n(57),se=function(e){var t=e.children,n=e.path,a=Object(ue.a)(e,["children","path"]);return Object(r.jsx)(s.b,Object(h.a)(Object(h.a)({path:n},a),{},{children:t}))},de=n(11),le=n(1);function be(){var e=Object(de.a)(["\n  display: flex;\n  width: 100%;\n  flex: 1 1 auto;\n"]);return be=function(){return e},e}function fe(){var e=Object(de.a)(["\n  ",";\n"]);return fe=function(){return e},e}function je(){var e=Object(de.a)(["\n  margin: 10px;\n"]);return je=function(){return e},e}function pe(){var e=Object(de.a)(["\n  ",";\n\n  flex-wrap: wrap;\n  padding: 20px;\n"]);return pe=function(){return e},e}function he(){var e=Object(de.a)(["\n  ",";\n"]);return he=function(){return e},e}function Oe(){var e=Object(de.a)(["\n  ",";\n"]);return Oe=function(){return e},e}function ve(){var e=Object(de.a)(["\n  ",";\n\n  width: 100%;\n  padding: 20px;\n  min-height: 100vh;\n"]);return ve=function(){return e},e}var me=le.c.div(ve(),Object(d.g)("center","center","column")),xe=le.c.div(Oe(),Object(d.h)({size:"26px",color:d.k})),ge=le.c.div(he(),Object(d.h)({size:"22px",color:d.k})),we=le.c.div(pe(),Object(d.g)("flex-start","center","row")),ke=Object(le.c)(u.b)(je());ke.Button=Object(le.c)(d.c)(fe(),Object(d.h)({size:"15px",color:d.l}));var Te=le.c.div(be()),_e=function(){var e=Object(a.useContext)(ee).actions.getMyInfo,t=Object(a.useState)({email:"",fullName:"",id:"",idBoards:[],boards:[]}),n=Object(j.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){Object(f.a)(b.a.mark((function t(){var n,r,a,c,i,u,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:n=t.sent,r=n.me,a=r.email,c=r.fullName,i=r.id,u=r.idBoards,s=n.boards,o({email:a,fullName:c,id:i,idBoards:u,boards:s});case 10:case"end":return t.stop()}}),t)})))()}),[e]),Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(me,{children:[Object(r.jsx)(xe,{children:"Mandal Art"}),Object(r.jsxs)(ge,{children:["\uc720\uc800 \uc774\ub984 : ",null===c||void 0===c?void 0:c.fullName]}),Object(r.jsxs)(ge,{children:["\uc720\uc800 \uc774\uba54\uc77c : ",null===c||void 0===c?void 0:c.email]}),Object(r.jsx)(ke,{to:"/board/".concat(T),children:Object(r.jsx)(ke.Button,{theme:"yellow",size:"xlarge",onClick:function(){},children:"Test Board \uc774\ub3d9"})}),Object(r.jsx)(we,{children:null===c||void 0===c?void 0:c.boards.map((function(e){var t=e.name,n=e.id;return Object(r.jsx)(ke,{to:"/board/".concat(n),children:Object(r.jsxs)(ke.Button,{theme:"yellow",size:"large",onClick:function(){},children:[t," \uc774\ub3d9"]})},n)}))}),Object(r.jsx)(Te,{})]})})};function ye(){var e=Object(de.a)(["\n  ",";\n\n  background-color: transparent;\n  width: ",";\n  margin-right: 3px;\n  > input {\n    background-color: transparent;\n    text-align: center;\n    padding: 5px;\n    height: 40px;\n    border: 0px;\n  }\n"]);return ye=function(){return e},e}function Ee(){var e=Object(de.a)(["\n  ",";\n\n  background-color: ",";\n\n  width: 100%;\n  height: 100px;\n  box-shadow: rgba(0, 0, 0, 0.15) 0px 0px 7px;\n  word-break: keep-all;\n  text-align: center;\n"]);return Ee=function(){return e},e}var Ae=le.c.div(Ee(),Object(d.g)("center","center","column"),(function(e){var t=e.isMainBoard,n=e.isCenter;return t&&n&&d.j||t&&!n&&d.i||!t&&n&&d.i||!t&&!n&&d.e})),Be=Object(le.c)(d.a)(ye(),Object(d.h)({size:"11px",color:d.k}),(function(e){return e.width})),Le=function(e){var t=e.cell,n=e.isMainBoard,c=e.setBoards,o=Object(a.useState)(t.name),i=Object(j.a)(o,2),u=i[0],s=i[1],d=Object(a.useCallback)(Object(f.a)(b.a.mark((function e(){var n,r,a,o,i,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,r=t.trelloType,a=t.name,o=t.idList,i=t.idBoard,"list"!==r){e.next=11;break}if(!a){e.next=6;break}q(Object(h.a)(Object(h.a)({},t),{},{name:u})),e.next=9;break;case 6:return e.next=8,H(u,i);case 8:s=e.sent;case 9:e.next=19;break;case 11:if("card"!==r){e.next=19;break}if(!a){e.next=16;break}N(Object(h.a)(Object(h.a)({},t),{},{name:u})),e.next=19;break;case 16:return e.next=18,z(u,o);case 18:s=e.sent;case 19:c((function(e){return e.map((function(e){return e.map((function(e){var t;return e.id===n?Object(h.a)(Object(h.a)(Object(h.a)({},e),s&&{id:null===(t=s)||void 0===t?void 0:t.id}),{},{name:u}):e}))}))}));case 20:case"end":return e.stop()}}),e)}))),[c,t,u]);return Object(r.jsx)(Ae,{isCenter:t.isCenter,isMainBoard:n,children:Object(r.jsx)(Be,{width:"100%",type:"text",name:t.id,maxLength:20,value:u,onEnter:d,onChange:function(e){s(e.target.value)}})})};function Ce(){var e=Object(de.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-gap: 0.7rem;\n"]);return Ce=function(){return e},e}var Pe=le.c.div(Ce()),Se=function(e){var t=e.board,n=e.isMainBoard,a=e.setBoards,c=e.boardIndex;return Object(r.jsx)(Pe,{children:t.map((function(e,t){return Object(r.jsx)(Le,{cell:e,isMainBoard:n,setBoards:a,boardIndex:c,cellIndex:t},e.id)}))})};function Ie(){var e=Object(de.a)(["\n  display: grid;\n  grid-template-rows: 1fr 1fr 1fr;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-gap: 2rem;\n  padding: 2rem;\n  box-shadow: rgba(0, 0, 0, 0.15) 0px 0px 5px;\n  border-radius: 0.5rem;\n"]);return Ie=function(){return e},e}function Re(){var e=Object(de.a)(["\n  ",";\n\n  padding: 20px;\n"]);return Re=function(){return e},e}var Me=le.c.div(Re(),d.f),De=le.c.div(Ie()),ze=function(){var e=Object(s.h)().params.boardId,t=Object(s.g)(),n=Object(a.useContext)(V),c=n.state.trelloObjects,o=c.isLoaded,i=c.isAuthorized,u=n.actions.setTrelloBoardId;return Object(a.useEffect)((function(){Object(f.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u(e);case 1:case"end":return t.stop()}}),t)})))()}),[e,u]),Object(a.useEffect)((function(){i||t.replace("/home")}),[i,t]),Object(r.jsx)(J,{children:function(e){var t=e.state.boards,n=e.actions.setBoards;return Object(r.jsxs)(Me,{children:[i&&!o&&Object(r.jsx)(d.d,{}),i&&o&&Object(r.jsx)(De,{children:t.map((function(e,t){return Object(r.jsx)(Se,{board:e,isMainBoard:4===t,setBoards:n,boardIndex:t},w())}))})]})}})};function Ne(){var e=Object(de.a)(["\n  min-height: 100vh;\n"]);return Ne=function(){return e},e}var He=le.c.div(Ne());var qe=function(){var e=oe,t=ie;return Object(r.jsx)(Z,{children:Object(r.jsxs)(G,{children:[Object(r.jsx)(ce,{}),Object(r.jsx)(u.a,{basename:"/mandal-art",children:Object(r.jsxs)(He,{children:[Object(r.jsx)(d.b,{}),Object(r.jsxs)(s.d,{children:[Object(r.jsx)(se,{path:t.path,children:Object(r.jsx)(ze,{})}),Object(r.jsx)(se,{path:e.path,children:Object(r.jsx)(_e,{})}),Object(r.jsx)(s.a,{to:e.path})]})]})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(qe,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[99,1,2]]]);
//# sourceMappingURL=main.7c7bb8a2.chunk.js.map